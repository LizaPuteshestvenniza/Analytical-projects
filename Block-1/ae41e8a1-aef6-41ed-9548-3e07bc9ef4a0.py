#!/usr/bin/env python
# coding: utf-8

# <div style="border:solid green 2px; padding: 20px">
# <b>–ï–ª–∏–∑–∞–≤–µ—Ç–∞, –ø—Ä–∏–≤–µ—Ç!</b>
# 
# –ú–µ–Ω—è –∑–æ–≤—É—Ç –ï–≤–≥–µ–Ω–∏–π –î–∞—â–µ–Ω–∫–æ, –∏ —è –±—É–¥—É –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç. –ü—Ä–µ–¥–ª–∞–≥–∞—é –æ–±—â–∞—Ç—å—Å—è –Ω–∞ ¬´—Ç—ã¬ª üòä –ù–æ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —É–¥–æ–±–Ω–æ - –¥–∞–π –∑–Ω–∞—Ç—å, –∏ –º—ã –ø–µ—Ä–µ–π–¥–µ–º –Ω–∞ "–≤—ã".¬†
# 
# –ú–æ—è –æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –Ω–µ —É–∫–∞–∑–∞—Ç—å –Ω–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ç–æ–±–æ—é –æ—à–∏–±–∫–∏, –∞ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º –æ–ø—ã—Ç–æ–º –∏ –ø–æ–º–æ—á—å —Ç–µ–±–µ —Å—Ç–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö. –¢—ã —É–∂–µ –ø—Ä–æ–¥–µ–ª–∞–ª –±–æ–ª—å—à—É—é —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º, –Ω–æ –¥–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º –µ–≥–æ –µ—â–µ –ª—É—á—à–µ. –ù–∏–∂–µ —Ç—ã –Ω–∞–π–¥–µ—à—å –º–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ - –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–π, –Ω–µ –∏–∑–º–µ–Ω—è–π –∏ –Ω–µ —É–¥–∞–ª—è–π –∏—Ö. –Ø –±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–≤–µ—Ç–æ–≤—É—é —Ä–∞–∑–º–µ—Ç–∫—É:
# 
# <div class="alert alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b> –¢–∞–∫ –≤—ã–¥–µ–ª–µ–Ω—ã —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è. –ë–µ–∑ –∏—Ö –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç –Ω–µ –±—É–¥–µ—Ç –ø—Ä–∏–Ω—è—Ç. </div>
# 
# <div class="alert alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b> –¢–∞–∫ –≤—ã–¥–µ–ª–µ–Ω—ã –Ω–µ–±–æ–ª—å—à–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è. –û–¥–Ω–∞-–¥–≤–∞ —Ç–∞–∫–∏—Ö –∑–∞–º–µ—á–∞–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ –¥–æ–ø—É—Å—Ç–∏–º—ã, –Ω–æ –µ—Å–ª–∏ –∏—Ö –±—É–¥–µ—Ç –±–æ–ª—å—à–µ - —Ç–µ–±–µ –±—É–¥–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –≠—Ç–æ –∫–∞–∫ —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –ø—Ä–∏ –ø—Ä–∏–µ–º–µ –Ω–∞ —Ä–∞–±–æ—Ç—É: –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –º–µ–ª–∫–∏—Ö –æ—à–∏–±–æ–∫ –º–æ–≥—É—Ç —Å—Ç–∞—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π –æ—Ç–∫–∞–∑–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç—É. 
# 
# </div>
# 
# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b> –¢–∞–∫ —è –≤—ã–¥–µ–ª—è—é –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.</div>
# 
# –î–∞–≤–∞–π —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º –≤ –¥–∏–∞–ª–æ–≥–µ: –µ—Å–ª–∏ —Ç—ã —á—Ç–æ-—Ç–æ –º–µ–Ω—è–µ—à—å –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏–ª–∏ –æ—Ç–≤–µ—á–∞–µ—à—å –Ω–∞ –º–æ–∏ –∫–æ–º–º–µ–Ω–∞—Ç—Ä–∏ ‚Äî –ø–∏—à–∏ –æ–± —ç—Ç–æ–º. –ú–Ω–µ –±—É–¥–µ—Ç –ª–µ–≥—á–µ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—ã –≤—ã–¥–µ–ª–∏—à—å —Å–≤–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:
# <div class="alert alert-info"> <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞:</b> –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç —Ç–∞–∫.</div>
# 
# –í—Å—ë —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–µ–µ. 

# <h1>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ<span class="tocSkip"></span></h1>
# <div class="toc"><ul class="toc-item"><li><span><a href="#–ò–∑—É—á–µ–Ω–∏–µ-–¥–∞–Ω–Ω—ã—Ö-–∏–∑-—Ñ–∞–π–ª–∞" data-toc-modified-id="–ò–∑—É—á–µ–Ω–∏–µ-–¥–∞–Ω–Ω—ã—Ö-–∏–∑-—Ñ–∞–π–ª–∞-1"><span class="toc-item-num">1&nbsp;&nbsp;</span>–ò–∑—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞</a></span></li><li><span><a href="#–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞-–¥–∞–Ω–Ω—ã—Ö" data-toc-modified-id="–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞-–¥–∞–Ω–Ω—ã—Ö-2"><span class="toc-item-num">2&nbsp;&nbsp;</span>–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö</a></span></li><li><span><a href="#–†–∞—Å—á—ë—Ç—ã-–∏-–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤-–≤-—Ç–∞–±–ª–∏—Ü—É" data-toc-modified-id="–†–∞—Å—á—ë—Ç—ã-–∏-–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤-–≤-—Ç–∞–±–ª–∏—Ü—É-3"><span class="toc-item-num">3&nbsp;&nbsp;</span>–†–∞—Å—á—ë—Ç—ã –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü—É</a></span></li><li><span><a href="#–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π-–∞–Ω–∞–ª–∏–∑-–¥–∞–Ω–Ω—ã—Ö" data-toc-modified-id="–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π-–∞–Ω–∞–ª–∏–∑-–¥–∞–Ω–Ω—ã—Ö-4"><span class="toc-item-num">4&nbsp;&nbsp;</span>–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö</a></span><ul class="toc-item"><li><span><a href="#–†–∞—Å—á–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤" data-toc-modified-id="–†–∞—Å—á–µ—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤-4.1"><span class="toc-item-num">4.1&nbsp;&nbsp;</span>–†–∞—Å—á–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</a></span></li><li><span><a href="#–†–∞—Å—á–µ—Ç-–≤—Ä–µ–º–µ–Ω–∏" data-toc-modified-id="–†–∞—Å—á–µ—Ç-–≤—Ä–µ–º–µ–Ω–∏-4.2"><span class="toc-item-num">4.2&nbsp;&nbsp;</span>–†–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏</a></span></li><li><span><a href="#–û–±—Ä–∞–±–æ—Ç–∫–∞-—Ä–µ–¥–∫–∏—Ö-–∑–Ω–∞—á–µ–Ω–∏–π" data-toc-modified-id="–û–±—Ä–∞–±–æ—Ç–∫–∞-—Ä–µ–¥–∫–∏—Ö-–∑–Ω–∞—á–µ–Ω–∏–π-4.3"><span class="toc-item-num">4.3&nbsp;&nbsp;</span>–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–¥–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π</a></span></li><li><span><a href="#–§–∞–∫—Ç–æ—Ä—ã-—Å—Ç–æ–∏–º–æ—Å—Ç–∏-–∫–≤–∞—Ä—Ç–∏—Ä" data-toc-modified-id="–§–∞–∫—Ç–æ—Ä—ã-—Å—Ç–æ–∏–º–æ—Å—Ç–∏-–∫–≤–∞—Ä—Ç–∏—Ä-4.4"><span class="toc-item-num">4.4&nbsp;&nbsp;</span>–§–∞–∫—Ç–æ—Ä—ã —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–≤–∞—Ä—Ç–∏—Ä</a></span></li><li><span><a href="#–û–±—Ä–∞–±–æ—Ç–∫–∞-–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã—Ö-–ø—É–Ω–∫—Ç–æ–≤" data-toc-modified-id="–û–±—Ä–∞–±–æ—Ç–∫–∞-–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã—Ö-–ø—É–Ω–∫—Ç–æ–≤-4.5"><span class="toc-item-num">4.5&nbsp;&nbsp;</span>–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤</a></span></li><li><span><a href="#–û–±—Ä–∞–±–æ—Ç–∫–∞-—Ü–Ω—Ç—Ä–∞-–ü–∏—Ç–µ—Ä–∞" data-toc-modified-id="–û–±—Ä–∞–±–æ—Ç–∫–∞-—Ü–Ω—Ç—Ä–∞-–ü–∏—Ç–µ—Ä–∞-4.6"><span class="toc-item-num">4.6&nbsp;&nbsp;</span>–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–Ω—Ç—Ä–∞ –ü–∏—Ç–µ—Ä–∞</a></span></li><li><span><a href="#–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ-–≤-—Ü–µ–Ω—Ç—Ä–µ-–ü–∏—Ç–µ—Ä–∞" data-toc-modified-id="–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ-–≤-—Ü–µ–Ω—Ç—Ä–µ-–ü–∏—Ç–µ—Ä–∞-4.7"><span class="toc-item-num">4.7&nbsp;&nbsp;</span>–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ü–µ–Ω—Ç—Ä–µ –ü–∏—Ç–µ—Ä–∞</a></span></li></ul></li><li><span><a href="#–û–±—â–∏–π-–≤—ã–≤–æ–¥" data-toc-modified-id="–û–±—â–∏–π-–≤—ã–≤–æ–¥-5"><span class="toc-item-num">5&nbsp;&nbsp;</span>–û–±—â–∏–π –≤—ã–≤–æ–¥</a></span></li><li><span><a href="#–ß–µ–∫-–ª–∏—Å—Ç-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏-–ø—Ä–æ–µ–∫—Ç–∞" data-toc-modified-id="–ß–µ–∫-–ª–∏—Å—Ç-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏-–ø—Ä–æ–µ–∫—Ç–∞-6"><span class="toc-item-num">6&nbsp;&nbsp;</span>–ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞</a></span></li></ul></div>

# # –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ –ø—Ä–æ–¥–∞–∂–µ –∫–≤–∞—Ä—Ç–∏—Ä
# 
# –í –≤–∞—à–µ–º —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å–∞ –Ø–Ω–¥–µ–∫—Å.–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å ‚Äî –∞—Ä—Ö–∏–≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ –ø—Ä–æ–¥–∞–∂–µ –∫–≤–∞—Ä—Ç–∏—Ä –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ –∏ —Å–æ—Å–µ–¥–Ω–∏—Ö –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–∞—Ö –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç. –ù—É–∂–Ω–æ –Ω–∞—É—á–∏—Ç—å—Å—è –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ä—ã–Ω–æ—á–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É: –æ–Ω–∞ –æ—Ç—Å–ª–µ–¥–∏—Ç –∞–Ω–æ–º–∞–ª–∏–∏ –∏ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫—É—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å. 
# 
# –ü–æ –∫–∞–∂–¥–æ–π –∫–≤–∞—Ä—Ç–∏—Ä–µ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É –¥–æ—Å—Ç—É–ø–Ω—ã –¥–≤–∞ –≤–∏–¥–∞ –¥–∞–Ω–Ω—ã—Ö. –ü–µ—Ä–≤—ã–µ –≤–ø–∏—Å–∞–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –≤—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Ü–µ–Ω—Ç—Ä–∞, –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞, –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–∞—Ä–∫–∞ –∏ –≤–æ–¥–æ—ë–º–∞. 

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –ó–¥–æ—Ä–æ–≤–æ, –∫–æ–≥–¥–∞ –µ—Å—Ç—å –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ —Å–∞–º –ø—Ä–æ–µ–∫—Ç, –∫–∞–∂–¥—ã–π —Å–º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–µ–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ / –¥–µ—Ç–∞–ª—è—Ö —Ä–∞–±–æ—Ç—ã. 
# 
# </div>

# ## –ò–∑—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞

# In[2]:


import pandas as pd 
import matplotlib.pyplot as plt
from IPython.display import display
import warnings  
warnings.filterwarnings('ignore')

df = pd.read_csv('/datasets/real_estate_data.csv', sep='\t') 
display(df.head(10))  
df.info() 


# <div class="alert alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# <s>–†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º–µ—Ç–æ–¥ `print()` –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ç–∞–±–ª–∏—Ü. –õ—É—á—à–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤
# –Ω–∞—á–∞–ª–µ –ø—Ä–æ–µ–∫—Ç–∞ –º–µ—Ç–æ–¥ `display` –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `IPython.display` –∏
# –ø—Ä–∏–º–µ–Ω—è—Ç—å –µ–≥–æ:
# 
# ---
#     
# `from IPython.display import display`
# 
# `display(df)`
# 
#     
# </div>
# 
# <div class="alert alert-info"> <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞:</b> –í–∞—É, —Å–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ! –¢–∞–∫ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≥–æ—Ä–∞–∑–¥–æ –ª—É—á—à–µ</div>

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ (2):</b>
# 
# üëç    
# </div>

# –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ:
# 
# –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º —Å—Ç–æ–ª–±—Ü–æ–≤ —Ñ–∞–π–ª–∞ –±—ã–ª —Å–∏–º–≤–æ–ª —Ç–∞–±—É–ª—è—Ü–∏–∏, –¥–ª—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –≤ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–º–µ–Ω—É —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è. 
# 
# –¢–∞–±–ª–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç 22 —Å—Ç–æ–ª–±—Ü–∞, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ —Ç–∏–ø–∞ int64, float64 –∏ object:
# 
# * airports_nearest ‚Äî —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ –≤ –º–µ—Ç—Ä–∞—Ö (–º)
# * balcony ‚Äî —á–∏—Å–ª–æ –±–∞–ª–∫–æ–Ω–æ–≤
# * ceiling_height ‚Äî –≤—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤ (–º)
# * cityCenters_nearest ‚Äî —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Ü–µ–Ω—Ç—Ä–∞ –≥–æ—Ä–æ–¥–∞ (–º)
# * days_exposition ‚Äî —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –±—ã–ª–æ —Ä–∞–∑–º–µ—â–µ–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ (–æ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –¥–æ —Å–Ω—è—Ç–∏—è)
# * first_day_exposition ‚Äî –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
# * floor ‚Äî —ç—Ç–∞–∂
# * floors_total ‚Äî –≤—Å–µ–≥–æ —ç—Ç–∞–∂–µ–π –≤ –¥–æ–º–µ
# * is_apartment ‚Äî –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã (–±—É–ª–µ–≤ —Ç–∏–ø)
# * kitchen_area ‚Äî –ø–ª–æ—â–∞–¥—å –∫—É—Ö–Ω–∏ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∞—Ö (–º¬≤)
# * last_price ‚Äî —Ü–µ–Ω–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–Ω—è—Ç–∏—è —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
# * living_area ‚Äî –∂–∏–ª–∞—è –ø–ª–æ—â–∞–¥—å –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∞—Ö(–º¬≤)
# * locality_name ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–∞—Å–µ–ª—ë–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞
# * open_plan ‚Äî —Å–≤–æ–±–æ–¥–Ω–∞—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞ (–±—É–ª–µ–≤ —Ç–∏–ø)
# * parks_around3000 ‚Äî —á–∏—Å–ª–æ –ø–∞—Ä–∫–æ–≤ –≤ —Ä–∞–¥–∏—É—Å–µ 3 –∫–º
# * parks_nearest ‚Äî —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–∞—Ä–∫–∞ (–º)
# * ponds_around3000 ‚Äî —á–∏—Å–ª–æ –≤–æ–¥–æ—ë–º–æ–≤ –≤ —Ä–∞–¥–∏—É—Å–µ 3 –∫–º
# * ponds_nearest ‚Äî —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –≤–æ–¥–æ—ë–º–∞ (–º)
# * rooms ‚Äî —á–∏—Å–ª–æ –∫–æ–º–Ω–∞—Ç
# * studio ‚Äî –∫–≤–∞—Ä—Ç–∏—Ä–∞-—Å—Ç—É–¥–∏—è (–±—É–ª–µ–≤ —Ç–∏–ø)
# * total_area ‚Äî –ø–ª–æ—â–∞–¥—å –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∞—Ö (–º¬≤)
# * total_images ‚Äî —á–∏—Å–ª–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏
# 
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Å—Ç–æ–ª–±—Ü–∞—Ö —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è. –≠—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –≤ –¥–∞–Ω–Ω—ã—Ö –µ—Å—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

# **–í—ã–≤–æ–¥:**
# 
# –í —Ç–∞–±–ª–∏—Ü–µ –º–Ω–æ–≥–æ –ø—Ä–æ–ø—É—Å–∫–æ–≤, –ø—Ä–∏—Ä–æ–¥–∞ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–∫–∞ –Ω–µ —Å–æ–≤—Å–µ–º —è—Å–Ω–∞: –ø—Ä–æ–ø—É—Å–∫ –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å, —á—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∏–ª–∏ —á—Ç–æ –ø—Ä–æ—Å—Ç–æ —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ—Ç –Ω–∞ –æ–±—ä–µ–∫—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–ª–∫–æ–Ω–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–µ–º –æ–±–æ–∑–Ω–∞—á–µ–Ω–∞ –∫–∞–∫ NaN. –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Ü–µ–Ω–æ–π –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∫–ª—é—á–µ–≤—É—é —Ä–æ–ª—å –∏–≥—Ä–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –æ –∫–æ–Ω–µ—á–Ω–æ–π —Ü–µ–Ω–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–Ω—è—Ç–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –∏–º–µ–Ω–Ω–æ —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –±—É–¥–µ–º –±—Ä–∞—Ç—å –∑–∞ –æ—Å–Ω–æ–≤—É. 

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ –∏–∑—É—á–∏–ª–∏ –Ω–∞—à–∏ –ø–µ—Ä–≤–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –¥–∞–≤–∞–π —Ç–µ–ø–µ—Ä—å –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∞–µ–º. 
# </div>

# ## –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

# –¢–∞–∫ –∫–∞–∫ —Å—Ç–æ–ª–±—Ü–æ–≤ –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –∏ –ø–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏, –±—É–¥–µ–º —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Ö –æ—Ç–¥–µ–ª—å–Ω–æ. 
# 
# *total_images*, *floor* –∏ *total_area* - –æ–¥–Ω–∏ –∏–∑ –Ω–µ–º–Ω–æ–≥–∏—Ö, –∫–æ–º—É –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∞–≤–∫–∞, —Ç–∞–∫ –∫–∞–∫ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ –±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–æ–≤. –ê –≤–æ—Ç –≤ *last_price* —Ü–µ–Ω—ã —É–∫–∞–∑–∞–Ω—ã –≤ —Ä—É–±–ª—è—Ö, –ø–µ—Ä–µ–≤–µ–¥–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏–æ–Ω—ã –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º, –Ω–æ –ø–µ—Ä–µ–¥ —ç—Ç–∏–º –∏–∑–±–∞–≤–∏–º—Å—è –æ—Ç –∫–æ–ø–µ–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω–µ—Å—É—Ç –≤ —Å–µ–±–µ –Ω–∏–∫–∞–∫–æ–π —Å–º—ã—Å–ª–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏. 

# In[3]:


df['last_price'] = df['last_price'].astype('int')
df['last_price'] = df['last_price'] / 1000000


# *first_day_exposition* –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å—Ç–æ–ª–±—Ü–µ –≤ —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã.

# In[4]:


df['first_day_exposition'] = pd.to_datetime(df['first_day_exposition'], format='%Y-%m-%d')


# *ceiling_height* —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ–≤–æ–ª—å–Ω–æ –º–Ω–æ–≥–æ –ø—Ä–æ–ø—É—Å–∫–æ–≤, –±—ã—Ç—å –º–æ–∂–µ—Ç –ø—Ä–æ–¥–∞–≤–µ—Ü –∫–≤–∞—Ä—Ç–∏—Ä—ã –ø—Ä–æ—Å—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç –≤—ã—Å–æ—Ç—É –ø–æ—Ç–æ–ª–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç–µ. –í—ã—Å–æ–∫–∏–µ –ø–æ—Ç–æ–ª–∫–∏ - –±–æ–ª—å—à–æ–µ –ø—Ä–∏–µ–º—É—â–µ—Å—Ç–≤–æ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∏—Ö –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∞ –∫–∞–∫–∏–µ —Ç–æ —Ç–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã, –∑–∞–ø–æ–ª–Ω–∏–º –ø—Ä–æ–ø—É—Å–∫–∏ –º–µ–¥–∏–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º, –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–æ–º–∞—Ö –≤—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è. –ù–æ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏–º –Ω–µ—Ç –ª–∏ –≤—ã–±—Ä–æ—Å–æ–≤: –ø–æ—Å–º–æ—Ç—Ä–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã:

# In[5]:


print(df['ceiling_height'].min())
print(df['ceiling_height'].max())
df['ceiling_height'].median()


# –¢–∞–∫ –∫–∞–∫ –≤ –∑–∞–¥–∞—á–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –∂–∏–ª—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã, –Ω–æ –∏ –≤—Å—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ —Ü–µ–ª–æ–º, —Ç–æ –≤—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–∞ 1 –º–µ—Ç—Ä –¥–æ–ø—É—Å—Ç–∏–º–∞: –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–¥–∞—á–Ω–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ; 100 –º–µ—Ç—Ä–æ–≤, –≤ —Ü–µ–ª–æ–º —Ç–æ–∂–µ: –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∫–ª–∞–¥ –∏–ª–∏ –∑–∞–≤–æ–¥—Å–∫–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ. –ú–µ–¥–∏–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ 2,65 –º - —Å–∞–º–æ–µ —á—Ç–æ –Ω–∏ –Ω–∞ –µ—Å—Ç—å –∏–¥–µ–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å–∫–æ–≤, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∞—è –≤—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤ –≤ —Å—Ä–µ–¥–Ω–µ—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–º –¥–æ–º–µ.

# In[6]:


df['ceiling_height'] = df['ceiling_height'].fillna(df['ceiling_height'].median())


# *living_area* –∏ *kitchen_area*: –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞—Å—á–∏—Ç–∞—Ç—å —Å–∫–æ–ª—å–∫–æ –±—É–¥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –æ—Ç –æ–±—â–µ–π –ø–ª–æ—â–∞–¥–∏, –¥–æ–ø—É—Å—Ç–∏–º, —á—Ç–æ –≤ —Å—Ä–µ–¥–Ω–µ–º –∫—É—Ö–Ω—è –∑–∞–Ω–∏–º–∞–µ—Ç 20% –æ—Ç –æ–±—â–µ–π –ø–ª–æ—â–∞–¥–∏, –∞ –∂–∏–ª–æ–µ –ø—Ä–æ—Ç—Ä–∞–Ω—Å—Ç–≤–æ 70%, –æ—Å—Ç–∞–ª—å–Ω–æ–µ - —Å–∞–Ω. —É–∑–ª—ã, –±–∞–ª–∫–æ–Ω—ã, —Ö–æ–∑. –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞. 

# In[7]:


df['living_area'] = df['living_area'].fillna(df['total_area'] * 0.7)
df['kitchen_area'] = df['kitchen_area'].fillna(df['total_area'] * 0.2)


# *studio*, *open_plan*, *is_apartment* –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç —Å–æ–±–æ–π –±—É–ª–µ–≤—ã –º–∞—Å—Å–∏–≤—ã, –≤ —Å–ª—É—á–∞–µ *is_apartment* False - –Ω–µ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã, –∞ True - –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã, –ø–æ–∫–∞ –Ω–µ –æ—á–µ–Ω—å —è—Å–Ω–æ, —á—Ç–æ –≤–æ–æ–±—â–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —ç—Ç–æ–º —Å—Ç–æ–ª–±—Ü–µ, –≤–µ–¥—å —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö object. –ü—Ä–æ–≤–µ—Ä–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç–æ–±—Ü–∞ –º–µ—Ç–æ–¥–æ–º unique()

# In[8]:


df['is_apartment'].unique()


# –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ NaN –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π False, —Ç–æ –µ—Å—Ç—å —Ç–æ, —á—Ç–æ –¥–∞–Ω–Ω–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º–∏, –∏—Å–ø—Ä–∞–≤–∏–º —ç—Ç–æ. 

# In[9]:


df['is_apartment'] = df['is_apartment'].fillna(False)


# *locality_name* - –æ–¥–∏–Ω –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–≤–∞—Ä—Ç–∏—Ä. –í–µ–¥—å –∂–∏—Ç—å –≤ –æ–±–ª–∞—Å—Ç–∏ –∏–ª–∏ –≤ –µ–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º –≥–æ—Ä–æ–¥–µ - —Ä–∞–∑–Ω–∏—Ü–∞ –±–æ–ª—å—à–∞—è, –∞ —Ç–∞–∫ –∫–∞–∫ —Ç—É—Ç –≤—Å–µ–≥–æ 0,2% –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –ø—Ä–æ—Å—Ç–æ –∏–∑–±–∞–≤–∏–º—Å—è –æ—Ç —ç—Ç–∏—Ö –ø—Ä–æ–ø—É—Å–∫–æ–≤.

# In[10]:


df = df.dropna(subset = ['locality_name'])


# <div class="alert alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –Ø –±—ã —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç `inplace`, —Ç–∞–∫ –∫–∞–∫ –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö –±–∏–±–ª–æ—Ç–µ–∫–∏ `pandas` –æ–Ω –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω.
#     
# –õ—É—á—à–µ –≤—Å–µ–≥–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ. 
#     
# </div>
# 
# <div class="alert alert-info"> <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞:</b>
#     
# –ê –Ω–µ –ø–æ–¥—Å–∫–∞–∂–µ—à—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∫–∞–∫ —Ç–æ–≥–¥–∞ –ª—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å, –ø—Ä–æ—Å—Ç–æ, –µ—Å–ª–∏ —è —É–±–µ—Ä—É inplace, —Ç–æ —É –º–µ–Ω—è –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ª–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è
# 
# –•–æ—Ç—è —Å–∞–º inplace –¥–∞–≤–∞–ª—Å—è –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–µ, –ø–æ—ç—Ç–æ–º—É —è –ø—Ä–∞–≤–¥–∞ –ø–æ–∫–∞ –Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω–∏–º–∞—é, –∫–∞–∫ –ª—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å. </div>

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ (2):</b>
# 
# –í—Å–µ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ, –æ—Å—Ç–∞–≤–∏–ª –ø—Ä–∏–º–µ—Ä –Ω–∏–∂–µ üòä
#     
# </div>

# In[ ]:


df = df.dropna(subset = ['locality_name'])


# –î–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å–∫–æ–≤ —Å—Ç–æ–ª–±—Ü–æ–≤ *cityCenters_nearest*, *airports_nearest*, *parks_nearest* –∏ *ponds_nearest* —Å–¥–µ–ª–∞–µ–º –ª–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—é: –∑–∞–ø–æ–ª–Ω–∏–º –ø—Ä–æ–ø—É—Å–∫–∏ —Å—Ä–µ–¥–Ω–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¥–µ—Ä–µ–≤–Ω—è, –ø–æ—Å–µ–ª–æ–∫, —Ç–æ–≤–∞—Ä–∏—â–µ—Å—Ç–≤–æ, —Å–µ–ª–æ, –º–∞–ª–µ–Ω—å–∫–∏–π –≥–æ—Ä–æ–¥ –∏ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥. –ê —Ç–∞–∫–∂–µ –≤–∫–ª—é—á–∏–º —Å—é–¥–∞ –µ—â–µ –∏ —Å—Ç–æ–ª–±–µ—Ü *floors_total*

# In[11]:


df = df.reset_index(drop = True)
df['locality_group'] = '–º–∞–ª–µ–Ω—å–∫–∏–π –≥–æ—Ä–æ–¥'

from pymystem3 import Mystem 
m = Mystem()
lemmas = []  
for i in range(len(df['locality_name'])) :  
    lemmas = m.lemmatize(df['locality_name'][i])  
    for j in range(len(lemmas)):  
        if lemmas[j] == '–ø–æ—Å–µ–ª–æ–∫' :
            df['locality_group'][i] = df['locality_group'][i].replace(df['locality_group'][i], '–ø–æ—Å—ë–ª–æ–∫')
        if lemmas[j] == '–¥–µ—Ä–µ–≤–Ω—è' :
            df['locality_group'][i] = df['locality_group'][i].replace(df['locality_group'][i], '–¥–µ—Ä–µ–≤–Ω—è')
        if lemmas[j] == '—Å–∞–Ω–∫—Ç-–ø–µ—Ç–µ—Ä–±—É—Ä–≥' :
            df['locality_group'][i] = df['locality_group'][i].replace(df['locality_group'][i], '—Å–∞–Ω–∫—Ç-–ø–µ—Ç–µ—Ä–±—É—Ä–≥')
        if lemmas[j] == '—Å–µ–ª–æ' :
            df['locality_group'][i] = df['locality_group'][i].replace(df['locality_group'][i], '—Å–µ–ª–æ')
        if lemmas[j] == '—Ç–æ–≤–∞—Ä–∏—â–µ—Å—Ç–≤–æ' :
            df['locality_group'][i] = df['locality_group'][i].replace(df['locality_group'][i], '—Ç–æ–≤–∞—Ä–∏—â–µ—Å—Ç–≤–æ')
            
display(df.head(10))


# <div class="alert alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –õ—É—á—à–µ –≤—Å–µ–≥–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ –ø—Ä–æ–µ–∫—Ç–∞. 
#     
# –≠—Ç–æ –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–π —Ñ–æ—Ä–º–∞—Ç –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏, –≤–µ–¥—å —Ç–∞–∫ –ø—Ä–æ—â–µ –ø–æ–Ω—è—Ç—å –∫–∞–∫–∏–µ –ø–∞–∫–µ—Ç—ã –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ –Ω–∞—à–µ–π —Ä–∞–±–æ—Ç–µ.
#     
# </div>

# In[11]:


columns = ['parks_nearest', 'ponds_nearest', 'cityCenters_nearest', 'airports_nearest', 'floors_total']

for i in columns:
    df[i] = df[i].fillna(df.groupby(['locality_group'])[i].transform('mean'))


# –ü—Ä–æ—â–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –∫–∏–ª–ª–æ–º–µ—Ç—Ä–∞—Ö, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–≤–µ–¥–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–æ–ª–±—Ü–æ–≤ *cityCenters_nearest*, *airports_nearest*, *parks_nearest* –∏ *ponds_nearest* 

# In[12]:


columns2 = ['parks_nearest', 'ponds_nearest', 'cityCenters_nearest', 'airports_nearest']
for i in columns2:
    df[i] = df[i] / 1000


# balcony - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–∫–æ–Ω–æ–≤, –∑–¥–µ—Å—å —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ NaN –ø—Ä–æ—Å—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –µ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ, –≤–Ω–µ—Å–µ–º —ç—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü—É. 
# 
# –ü—Ä–æ–ø—É—Å–∫–∏ –≤ *parks_around3000* –∏ *ponds_around3000* —Ç–∞–∫ –∂–µ –º–æ–≥—É—Ç —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ–≤–∞—Ç—å –æ —Ç–æ–º, —á—Ç–æ –Ω–∏ –ø–∞—Ä–∫–æ–≤, –Ω–∏ –ø—Ä—É–¥–æ–≤ –Ω–µ—Ç, –∑–∞–º–µ–Ω–∏–º —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –Ω—É–ª–µ–º.

# In[13]:


columns2 = ['balcony', 'parks_around3000', 'ponds_around3000']

for i in columns2:
    df[i] = df[i].fillna(0)


# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –í —Ç–æ–º —á–∏—Å–ª–µ –º–µ—Ç–æ–¥ `fillna` –∏ `astype` –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å—Ç–æ–ª–±—Ü–∞–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
#     
# –ï—Å–ª–∏ —Å—Ç–æ–ª–±—Ü–æ–≤ –±–æ–ª–µ–µ 2‚Äì—É—Ö, —Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ü–∏–∫–ª `for`.
#     
# –ü—Ä–∏–º–µ—Ä: 
#     
# `df.astype({ "col1": "float64", "col2": "int64"})`
#     
# </div>

# ```python
# 
# columns = [col1, col2, col3]
# 
# for i in columns:
#     df[i] = df[i].fillna(0)
# 
# ```

# *days_exposition* –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –º–µ–¥–∏–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

# In[14]:


print(df['days_exposition'].max())
print(df['days_exposition'].min())


# –æ—Ç 1 –¥–Ω—è –¥–æ 4 –ª–µ—Ç: –≤ —Ü–µ–ª–æ–º –≤–ø–æ–ª–Ω–µ —Å–µ–±–µ –≤–æ–∑–º–æ–∂–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è. –ú–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ –∑–∞–º–µ–Ω–µ:

# In[15]:


df['days_exposition'] = df['days_exposition'].fillna(df['days_exposition'].median())


# –ê —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–≤–µ–¥–µ–º –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –∫ –¥–æ–ª–∂–Ω–æ–º—É –≤–∏–¥—É:

# In[16]:


df = df.astype({"balcony": "int64",
                "floors_total": "int64", 
                "days_exposition": "int64", 
                "parks_around3000": "int64", 
                "ponds_around3000": "int64"})


# –ü—Ä–æ–≤–µ—Ä–∏–º –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É:

# In[17]:


print(df.isnull().sum())
print('******************')
df.info()


# –¢–∞–∫ –∫–∞–∫ –ø–æ –ø—Ä–µ–∂–Ω–µ–º—É –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–æ–ø—É—Å–∫–∏ –≤ —Å—Ç–æ–ª–±—Ü–∞—Ö, –ø–æ–ø—Ä–æ–±—É–µ–º –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ –¥–ª—è –∏—Ö –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è:

# In[18]:


def mean(row) :  
    location = row['locality_group']
     
    if location == '—Å–∞–Ω–∫—Ç-–ø–µ—Ç–µ—Ä–±—É—Ä–≥' :
        return 0
    if location == '–º–∞–ª–µ–Ω—å–∫–∏–π –≥–æ—Ä–æ–¥' :
        return 1
    if location == '–ø–æ—Å—ë–ª–æ–∫' :
        return 2
    if location == '–¥–µ—Ä–µ–≤–Ω—è' :
        return 3
    if location == '—Å–µ–ª–æ' :
        return 4
    if location == '—Ç–æ–≤–∞—Ä–∏—â–µ—Å—Ç–≤–æ' :
        return 5

df['mean_groups'] = df.apply(mean, axis=1)  

for i in range (6) :  
    total_len = df[df['mean_groups'] == i]['airports_nearest'].mean()
    df['airports_nearest'] = df['airports_nearest'].fillna(total_len) 
    
for i in range (6) :  
    total_len = df[df['mean_groups'] == i]['cityCenters_nearest'].mean()
    df['cityCenters_nearest'] = df['cityCenters_nearest'].fillna(total_len) 
    
for i in range (6) :  
    total_len = df[df['mean_groups'] == i]['parks_nearest'].mean()
    df['parks_nearest'] = df['parks_nearest'].fillna(total_len) 
    
for i in range (6) :  
    total_len = df[df['mean_groups'] == i]['ponds_nearest'].mean()
    df['ponds_nearest'] = df['ponds_nearest'].fillna(total_len) 


# –ü–æ–≤—Ç–æ—Ä–∏–º –ø—Ä–æ–≤–µ—Ä–∫—É:

# In[19]:


print(df.isnull().sum())
print('******************')
df.info()


# –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ—Ä–Ω–æ: —Ç–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π —Å—Ç–æ–ª–±–µ—Ü –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞, –ø—Ä–æ–ø—É—Å–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.
# 
# –ü—Ä–æ–≤–µ—Ä–∏–º —Ç–∞–±–ª–∏—Ü—É –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥—É–±–æ–∏–∫–∞—Ç–æ–≤:

# In[20]:


df.duplicated().sum()


#  –î—É–±–ª–∏–∫–∞—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.
#  
#  **–í—ã–≤–æ–¥:**
#  
#  –¢–∞–±–ª–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∞–ª–∞ –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–ø—É—Å–∫–æ–≤: –∫–∞–∫–∏–µ —Ç–æ –∏–∑ –Ω–∏—Ö –±—ã–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã, –∫–∞–∫–∏–µ —Ç–æ –Ω–µ—Ç, –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –ø–æ –∏—Ç–æ–≥—É –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã–µ –≥–æ—Ç–æ–≤—ã –∫ –∞–Ω–∞–ª–∏–∑—É.

# ## –†–∞—Å—á—ë—Ç—ã –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü—É

# –†–∞—Å—Å—á–∏—Ç–∞–µ–º —Ü–µ–Ω—É –∑–∞ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –º–µ—Ç—Ä: –¥–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º —Å—Ç–æ–ª–±–µ—Ü *price_per_meter*, –∫—É–¥–∞ –±—É–¥–µ–º –ø–æ–º–µ—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

# In[21]:


df['price_per_meter'] = df['last_price'] / df['total_area']


# –†–∞—Å—Å—á–∏—Ç–∞–µ–º –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, –º–µ—Å—è—Ü –∏ –≥–æ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è: —Å–æ–∑–¥–∞–¥–∏–º —Ç—Ä–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–æ–ª–±—Ü–∞ *publication_weekday*, *publication_month* –∏ *publication_year*.

# In[22]:


df['publication_weekday'] = df['first_day_exposition'].dt.weekday
df['publication_year'] = df['first_day_exposition'].dt.year
df['publication_month'] = df['first_day_exposition'].dt.month


# –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä—É–µ–º —ç—Ç–∞–∂ –∫–≤–∞—Ä—Ç–∏—Ä—ã. –í–∞—Ä–∏–∞–Ω—Ç—ã: 1 - –ø–µ—Ä–≤—ã–π, 2 - –ø–æ—Å–ª–µ–¥–Ω–∏–π –∏–ª–∏ 0 - –¥—Ä—É–≥–æ–π. –°–æ–∑–¥–∞–¥–∏–º —Å—Ç–æ–ª–±–µ—Ü *floor_type*

# In[23]:


def floor_t(row) :  
    floor = row['floor']
    floor_max = row['floors_total']
    
    if floor == 1 :
        return 1
    if (floor != 1) and (floor != floor_max) :
        return 0
    if floor == floor_max:
        return 2

df['floor_type'] = df.apply(floor_t, axis=1)


# –ü–æ—Å—á–∏—Ç–∞–µ–º —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∂–∏–ª–æ–π –ø–ª–æ—â–∞–¥–∏ –∫ –æ–±—â–µ–π, –∞ —Ç–∞–∫–∂–µ –∫—É—Ö–æ–Ω–Ω–æ–π –∫ –æ–±—â–µ–π. –°–æ–∑–¥–∞–¥–∏–º —Å—Ç–æ–ª–±—Ü—ã *living_to_total* –∏ *kitchen_to_total* –¥–ª—è —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

# In[24]:


df['living_to_total'] = df['living_area'] / df['total_area']
df['kitchen_to_total'] = df['kitchen_area'] / df['total_area']


# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –ú—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∏ –¥–æ–±–∞–≤–∏–ª–∏ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –Ω–∞—à—É –≤—ã–±–æ—Ä–∫—É. –î–∞–≤–∞–π —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ–¥—ë–º –∞–Ω–∞–ª–∏–∑.
#     
# </div>

# ## –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

# ### –†–∞—Å—á–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

# –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–∞–∂–¥—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç–¥–µ–ª—å–Ω–æ: –¥–ª—è –ø–ª–æ—â–∞–¥–∏, —Ü–µ–Ω—ã, —á–∏—Å–ª–∞ –∫–æ–º–Ω–∞—Ç –∏ –≤—ã—Å–æ—Ç—ã –ø–æ—Ç–æ–ª–∫–æ–≤ –ø–æ—Å—Ç—Ä–æ–∏–º –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

# In[25]:


df['total_area'].hist(bins = 100, range=(0,400), figsize=(10,7))
plt.title('area')
plt.show()


# <div class="alert alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# <s>–ù–µ –∑–∞–±—ã–≤–∞–π –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –ø–æ–¥–ø–∏—Å–∞–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –≥—Ä–∞—Ñ–∏–∫. –≠—Ç–æ –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–∞–∫ –±—ã—Å—Ç—Ä–µ–µ –ø–æ–Ω—è—Ç—å –æ —á–µ–º –∏–¥—ë—Ç —Ä–µ—á—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ.
# 
# </div>

# –í —Ü–µ–ª–æ–º –æ–∂–∏–¥–∞–µ–º—ã–π –≥—Ä–∞—Ñ–∏–∫: —Ä–µ–∑–∫–∏–π –ø–∏–∫ —É 50 –º–µ—Ç—Ä–æ–≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –∏ –ø–ª–∞–≤–Ω—ã–π —Å–ø—É—Å–∫ –¥–∞–ª–µ–µ, —ç—Ç–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –æ —Ç–æ–º, —á—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ –ø—Ä–æ–¥–∞–∂–µ –æ–¥–Ω–æ–∫–æ–º–Ω–∞—Ç–Ω–æ–π - –¥–≤—É—Ö–∫–æ–º–Ω–∞—Ç–Ω–æ–π –∫–≤–∞—Ä—Ç–∏—Ä. 

# In[26]:


df['rooms'].hist(bins=50, range=(0,12), figsize=(10,7))
plt.title('rooms')
plt.show()


# –ö–∞–∫ –∏ –≥—Ä–∞—Ñ–∏–∫ –æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —á–∞—Å—Ç–æ—Ç –ø–ª–æ—â–∞–¥–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç —Ç–∞–∫–∂–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –æ —Ç–æ–º, —á—Ç–æ –≤ –æ—Å–Ω–∞–≤–Ω–æ–º –ø—Ä–æ–¥–∞—é—Ç—Å—è –æ–¥–Ω–æ–∫–æ–º–Ω–∞—Ç–Ω—ã–µ - –¥–≤—É—Ö–∫–æ–º–Ω–∞—Ç–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã, –æ–¥–Ω–∞–∫–æ —Ç—Ä–µ—à–∫–∏ —Ç–∞–∫–∂–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –¥–æ–≤–æ–ª—å–Ω–æ —á–∞—Å—Ç–æ. 

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –ö—Å—Ç–∞—Ç–∏ –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–¥–ø–∏—Å–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `plt.title()` –∏ –≤ –∫–æ–Ω—Ü–µ –∫–æ–¥–∞ –ø—Ä–∏–º–µ–Ω–∏—Ç—å `plt.show()`
# </div>

# In[27]:


df['ceiling_height'].hist(bins=50, range=(0,10), figsize=(10,7))
plt.title('ceiling height')
plt.show()


# –°–µ–≥–æ–¥–Ω—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –Ω–æ—Ä–º–æ–π –≤ –†–æ—Å—Å–∏–∏ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–∫–∞ —Ä–∞–≤–Ω–∞—è 2,4 –º–µ—Ç—Ä–∞, –æ —á–µ–º –∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –≥—Ä–∞—Ñ–∏–∫: –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º—ã –∏ –∏–º–µ–µ–º —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ.  

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –¢–∞–∫–∂–µ –º—ã –º–æ–∂–µ–º —É–≤–µ–ª–∏—á–∏—Ç—å —Å–∞–º –≥—Ä–∞—Ñ–∏–∫, —á—Ç–æ–±—ã –µ–≥–æ –±—ã–ª–æ —É–¥–æ–±–Ω–µ–µ –∏–∑—É—á–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `plt.figure(figsize=(10,7))`
#     
# </div>

# In[28]:


df['last_price'].hist(bins=100, range=(0,100), figsize=(10,7))
plt.title('price')
plt.show()


# –ù–∞–±–ª—é–¥–∞–µ—Ç—Å—è —Ä–µ–∑–∫–∏–π –ø–∏–∫ –Ω–∞ 5-7 –º–∏–ª–ª–∏–æ–Ω–∞—Ö, –∞ –¥–∞–ª—å—à–µ - –ø–ª–∞–≤–Ω—ã–π —Å–ø—É—Å–∫. –í –ø–æ–ª–Ω–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω—É—à–∫–∏ –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ –∫–∞–∫ —Ä–∞–∑ –∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫—É—é —Ü–µ–Ω—É, –∞ —Ç–∞–∫ –∫–∞–∫ —É –Ω–∞—Å –Ω–µ —Ç–æ–ª—å–∫–æ –ü–µ—Ç–µ—Ä–±—É—Ä–≥, –Ω–æ –∏ –õ–µ–Ω. –æ–±–ª–∞—Å—Ç—å, –ª–µ–≥–∫–æ –æ—é—ä—è—Å–Ω—è–µ—Ç—Å—è, –ø–æ—á–µ–º—É –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –∫–æ–º–Ω–∞—Ç –≤—Å–ø–ª–µ—Å–∫ –µ—â–µ –∏ –Ω–∞ –æ—Ç–º–µ—Ç–∫–µ "2", –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –∫–∞–∫ —Ä–∞–∑ –∏ –±—É–¥–µ—Ç —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω–æ–π –∑–∞ –¥–≤—É—à–∫—É.  

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –ß—Ç–æ–±—ã –Ω–∞–º –≤ —Ä—É—á–Ω—É—é –Ω–µ –∑–∞–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `range` –º—ã –º–æ–∂–µ–º –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –¥–æ—Å—Ç—É–ø–µ  ‚Äì –∫–∞–∫ —Å—á–∏—Ç–∞—Ç—å –∏–Ω—Ç–µ—Ä–∫–≤–∞—Ä—Ç–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–∞—Ö –¥–ª—è –Ω–∏–∂–Ω–µ–≥–æ –∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.
#     
# https://stackoverflow.com/questions/50461349/how-to-remove-outlier-from-dataframe-using-iqr
#     
# </div>
# 
# <div class="alert alert-info"> <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞:</b>
#     
# –ò–∑–≤–∏–Ω–∏, —Ç–æ –µ—Å—Ç—å —è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ range –ª—É—á—à–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –º–µ–∂–¥—É –ø–µ—Ä–≤—ã–º –∏ —Ç—Ä–µ—Ç—å–µ–º –∫–≤–∞—Ä—Ç–∏–ª–µ–º? –ê —Ä–∞—Å—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö —Ç–∞–∫, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–Ω–æ –≤ —Å—Å—ã–ª–∫–µ, –¥–∞? </div>

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ (2):</b>
# 
# –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –¥–∞ –∏—Ö –∫–∞–∫ –Ω–∞–ø–∏—Å–∞–Ω–æ –ø–æ —Å—Å—ã–ª–∫–µ.
#     
# –ù–æ —ç—Ç–æ –Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω –º–µ–∂–¥—É 1 –∏ 3 –∫–≤–∞—Ä—Ç–∏–ª–µ–º, –ø–æ–ª—É—á–∏—Ç—å—Å—è –∫–∞–∫ —Ä–∞–∑ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –¥—Ä—É–≥–∞—è –∫–∞—Ä—Ç–∏–Ω–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏ –ø–æ–Ω—è—Ç—å —á—Ç–æ –±—É–¥–µ—Ç üòä
#     
# </div>

# ### –†–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏

# –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤—Ä–µ–º—è –ø—Ä–¥–∞–∂–∏ –∫–≤–∞—Ä—Ç–∏—Ä—Ç—ã:  

# In[29]:


df['days_exposition'].hist(bins=100, range=(0,2000), figsize=(10,7))
plt.title('days exposition')
plt.show()


# –ù–∞–±–ª—é–¥–∞–µ—Ç—Å—è —Ä–µ–∑–∫–∏–π –ø–∏–∫ –≤ –∑–Ω–∞—á–µ–Ω–∏–∏ 100 –¥–Ω–µ–π: –≤–ø–æ–ª–Ω–µ –≤–æ–∑–º–æ–∂–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è. –î–ª—è –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞–π–¥–µ–º –µ—â–µ —Å—Ä–µ–¥–Ω–µ–µ –∏ –º–µ–¥–∏–∞–Ω—É. 

# In[29]:


print(df['days_exposition'].median())
print(df['days_exposition'].mean())


# –û–±—Ä–∞—â–∞—è—Å—å –∫ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–µ, –º–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –Ω–∞ –æ—Ç–º–µ—Ç–∫–µ 750 –¥–Ω–µ–π —É–∂–µ –ø–æ—á—Ç–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö, –∞ –Ω–∞ 1000 –æ–Ω–∏ –≤–æ–æ–±—â–µ –µ–¥–≤–∞ –∑–∞–º–µ—Ç–Ω—ã, —Ç–æ–≥–¥–∞ –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–æ —Å—Ä–µ–∑–æ–º –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –¥–Ω–µ–π –±—É–¥–µ—Ç –Ω–µ –±–æ–ª—å—à–µ 850, –æ—Å—Ç–æ–ª—å–Ω–æ–µ –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –Ω–µ–æ–±—ã—á–∞–π–Ω–æ –¥–æ–ª–≥–∏–º–∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏. 

# In[30]:


df_not_too_slow = df.query('days_exposition < 850')


# –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–æ–¥–∞–∂ –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–µ, —á–µ–º –¥–æ–ª–≥–∏—Ö, –ø–æ—Å—á–∏—Ç–∞–µ–º –æ—Ç –∫–∞–∫–æ–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –æ—Ç –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –º—ã –∏–∑–±–∞–≤–∏–º—Å—è, –µ—Å–ª–∏ —É–¥–∞–ª–∏–º —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è (–ø—Ä–∏–º–∏–º –∑–∞ —Å–≤–µ—Ä—Ö–±—ã—Å—Ç—Ä—É—é –ø—Ä–æ–¥–∞–∂—É –º–µ—Å—è—Ü):

# In[31]:


len(df.query('days_exposition < 30')) / len(df)


# –í —Ü–µ–ª–æ–º 15% –Ω–µ —Ç–∞–∫ —É–∂ –∏ –º–Ω–æ–≥–æ, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –æ—Ç–±—Ä–æ—Å–∏—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ. 

# In[32]:


df_not_too_fast = df.query('days_exposition > 30')


# –°—Ä–∞–≤–Ω–∏–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏. –ü–æ—Å—Ç—Ä–æ–∏–º –¥–≤–∞ –≥—Ä–∞—Ñ–∏–∫–∞ —è—â–∏–∫ —Å —É—Å–∞–º–∏: –¥–ª—è –Ω–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ —Å—Ç–∞—Ä—ã—Ö.

# In[33]:


df.boxplot(column='days_exposition', figsize=(10,7))
plt.title('days exposition before cleaning')
plt.show()

df_good = df.query('30 < days_exposition < 850')
df_good.boxplot(column='days_exposition', figsize=(10,7))
plt.title('days exposition after cleaning')
plt.show()


# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –û—Ç–ª–∏—á–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è üëç –ï—Å–ª–∏ –≤–¥—Ä—É–≥ —Ç–µ–±–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å —Ç–µ–º–∞ –≤–∏–∑—É–∏–ª–∏–∑–∞—Ü–∏–∏, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `seaborn`. 
#     
# </div>

# –ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ –≤–∏–¥–Ω–æ, —á—Ç–æ –¥–æ–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤—ã—Ä–æ—Å–ª–∞, –º–∏–Ω–∏–º—É–º, –∫–∞–∫ –∏ –º–∞–∫—Å–∏–º—É–º —É–≤–µ–ª–∏—á–∏–ª—Å—è, —Ç.–µ. –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω—è–ª–∏ –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –≤–∏–¥. 

# ### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–¥–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π

# –ú—ã —É–∂–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏ —Å—Ç–æ–ª–±—Ü—ã —Å –Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞: *last_price*, *total_area*, *rooms* –∏ *ceiling_height*. –ü–æ–ª—É—á–µ–Ω–Ω–Ω—ã–µ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ–≤–∞–ª–∏ –æ –Ω–∞–ª–∏—á–∏–∏ –≤—ã–±—Ä–æ—Å–æ–≤. –î–ª—è —Ü–µ–Ω: —á—Ç–æ —Ç–æ –≤—ã—à–µ 40 –º–ª–Ω —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ä–µ–¥–∫–æ—Å—Ç—å—é, –ø–ª–æ—â–∞–¥—å –±–æ–ª—å—à–µ 300 –º–µ—Ç—Ä–æ–≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Ç–æ–∂–µ, —É –∫–æ–º–Ω–∞—Ç –±–æ–ª—å—à–µ –≤–æ—Å—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è –¥–∞–ª—å—à–µ –ø–æ—á—Ç–∏ –Ω–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è, –ø–æ—Ç–æ–ª–∫–∏ –≤—ã—à–µ 4 –º–µ—Ç—Ä–æ–≤ - —Ä–µ–¥–∫–æ—Å—Ç—å. –ü–æ—Å–º–æ—Ç—Ä–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —á–∏—Å–ª–æ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã–∑:

# In[34]:


df1 = df.query('last_price > 40')
df2 = df.query('total_area > 300')
df3 = df.query('rooms > 8')
df4 = df.query('ceiling_height > 4')
print(df1.shape[0])
print(df2.shape[0])
print(df3.shape[0])
print(df4.shape[0])


# –≠—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∏—á—Ç–æ–∂–Ω–æ –º–∞–ª–æ, —Å–º–µ–ª–æ –æ—Ç –Ω–∏—Ö –∏–∑–±–∞–≤–ª—è–µ–º—Å—è. 

# In[35]:


df_clean = df.query('last_price < 40 and total_area < 300 and rooms < 8 and ceiling_height < 4')


# –í –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –±–µ–∑ –≤—ã–±—Ä–æ—Å–æ–≤ –∏ –≤—ã–±–∏–≤–∞—é—â–∏—Ö—Å—è –∑–Ω–∞—á–µ–Ω–∏–π, –æ–Ω–∏ –º–æ–≥–ª–∏ –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø—Ä–æ–¥–∞–∂–∏ –Ω–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã, –∞ –∫–∞–∫–æ–≥–æ —Ç–æ –¥—Ä—É–≥–æ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç —Ç–æ–ª—å–∫–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã, —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω—ã. 

# ### –§–∞–∫—Ç–æ—Ä—ã —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–≤–∞—Ä—Ç–∏—Ä

# –°–∞–º–æ–µ –≤—Ä–µ–º—è —É–∑–Ω–∞—Ç—å: —á—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ü–µ–Ω—É –∫–≤–∞—Ä—Ç–∏—Ä—ã, –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–∏–º –º–∞—Ç—Ä–∏—Ü—ã –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: –ø–ª–æ—â–∞–¥–∏, —á–∏—Å–ª–∞ –∫–æ–º–Ω–∞—Ç –∏ —É–¥–∞–ª–µ–Ω–Ω–æ—Å—Ç–∏ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞. 

# In[36]:


stat_multi = df_clean.pivot_table(
    index = df_clean.index, values=['cityCenters_nearest', 'last_price', 'total_area', 'rooms']
)
print(stat_multi.corr())
pd.plotting.scatter_matrix(stat_multi, figsize=(9, 9))


# –ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –Ω–∞–∏–±–æ–ª—å—à–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –º–µ–∂–¥—É —Å—Ç–æ–ª–±—Ü–∞–º–∏: *last_price* –∏ *total_area*, *total_area* –∏ *rooms*, —Ç–æ–≥–¥–∞ –ø–æ —Å–≤–æ–π—Å—Ç–≤—É —Ç—Ä–∞–Ω–∑–µ—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–≤—è–∑—å –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –∏ –º–µ–∂–¥—É *last_price* –∏ *rooms*, —Ç–∞–∫–∂–µ –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É *last_price* –∏ *cityCenters_nearest*, –∫–æ—Ç–æ—Ä–∞—è –≥–ª–∞—Å–∏—Ç: —á–µ–º –º–µ–Ω—å—à–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Ü–µ–Ω—Ç—Ä–∞, —Ç–µ–º –¥–æ—Ä–æ–∂–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã. –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –≤–ø–æ–ª–Ω–µ –æ–∂–∏–¥–∞–µ–º—ã–µ. 
# 
# –ò–∑—É—á–∏–º –≤–ª–∏—è–µ—Ç –ª–∏ —ç—Ç–∞–∂ –Ω–∞ —Ü–µ–Ω—É –∫–≤–∞—Ä—Ç–∏—Ä—ã: 

# In[37]:


stat_floor = df_clean.pivot_table(
    index = df_clean.index, values=['last_price', 'floor_type']
)
print(stat_floor.corr())
pd.plotting.scatter_matrix(stat_floor, figsize=(9, 9))


# –ö–∞–∫ –ø–æ–∫–∞–∑–∞–ª –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏, –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.
# 
# –ü–æ—Å–º–æ—Ç—Ä–∏–º: –≤–ª–∏—è–µ—Ç –ª–∏ –∫–∞–∫ –Ω–∏–±—É–¥—å –Ω–∞ —Ü–µ–Ω—É –¥–∞—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è.

# In[38]:


stat_post = df_clean.pivot_table(
    index = df_clean.index, values=['last_price', 'publication_weekday', 'publication_year', 'publication_month']
)
print(stat_post.corr())
pd.plotting.scatter_matrix(stat_post, figsize=(9, 9))


# –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ü–µ–Ω—É –æ–±—ä–µ–∫—Ç–∞. 

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
#     
# –•–æ—Ä–æ—à–∏–µ –∏ –ª–æ–≥–∏—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –∫–∞—Å–∞–µ–º–æ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏. –û—á–µ–Ω—å –≤–∞–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –º–µ–∂–¥—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏, –≤–µ–¥—å –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —Ç–∞–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è, —á—Ç–æ —Ä–∞—Å—á–µ—Ç —É –Ω–∞—Å –æ—á–µ–Ω—å —Å–∏–ª—å–Ω—ã–π –∞ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ –¥—Ä—É–≥–∞—è –∫–∞—Ä—Ç–∏–Ω–∞.
#     
# ---
# 
# –í —Ç–æ–º —á–∏—Å–ª–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ç—Ä–∏—Ü—É –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `heatmap` –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `seaborn`.
#     
# </div>

# ### –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤

# –í—ã–¥–µ–ª–∏–º —Ç–æ–ø 10 —Å–∞–º—ã—Ö —á–∞—Å—Ç–æ–≤—Å—Ç—Ä–µ—á–∞—é—â–∏—Ö—Å—è –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–∞:

# In[39]:


df_clean['locality_name'].value_counts().head(10)


# –ù–∞–π–¥–µ–º —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ü–µ–Ω—ã –∑–∞ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –º–µ—Ç—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –æ—Ç–¥–µ–ª—å–Ω–æ:

# In[40]:


df_clean = df_clean.reset_index()
def locality_mean(local) :
    
    total_area = 0
    total_price = 0
    
    for i in range(len(df_clean)) :
        if df_clean['locality_name'][i] == local:
            total_area += df_clean['total_area'][i]
            total_price += df_clean['last_price'][i]
    return total_price / total_area * 1000000

print('–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞(—Ç—ã—Å) –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ: {:.2f}'.format(locality_mean('–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥'))) 
print('–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞(—Ç—ã—Å) –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –≤ –ø–æ—Å—ë–ª–æ–∫–µ –ú—É—Ä–∏–Ω–æ: {:.2f}'.format(locality_mean('–ø–æ—Å—ë–ª–æ–∫ –ú—É—Ä–∏–Ω–æ'))) 
print('–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞(—Ç—ã—Å) –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –≤ –ø–æ—Å—ë–ª–æ–∫–µ –®—É—à–∞—Ä—ã: {:.2f}'.format(locality_mean('–ø–æ—Å—ë–ª–æ–∫ –®—É—à–∞—Ä—ã'))) 
print('–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞(—Ç—ã—Å) –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –≤–æ –í—Å–µ–≤–æ–ª–æ–∂—Å–∫–µ: {:.2f}'.format(locality_mean('–í—Å–µ–≤–æ–ª–æ–∂—Å–∫'))) 
print('–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞(—Ç—ã—Å) –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –≤ –ü—É—à–∫–∏–Ω–µ: {:.2f}'.format(locality_mean('–ü—É—à–∫–∏–Ω'))) 
print('–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞(—Ç—ã—Å) –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –≤ –ö–æ–ª–ø–∏–Ω–æ: {:.2f}'.format(locality_mean('–ö–æ–ª–ø–∏–Ω–æ'))) 
print('–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞(—Ç—ã—Å) –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –≤ –ø–æ—Å—ë–ª–æ–∫–µ –ü–∞—Ä–≥–æ–ª–æ–≤–æ: {:.2f}'.format(locality_mean('–ø–æ—Å—ë–ª–æ–∫ –ü–∞—Ä–≥–æ–ª–æ–≤–æ'))) 
print('–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞(—Ç—ã—Å) –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –≤ –ì–∞—Ç—á–∏–Ω–µ: {:.2f}'.format(locality_mean('–ì–∞—Ç—á–∏–Ω–∞'))) 
print('–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞(—Ç—ã—Å) –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –≤ –¥–µ—Ä–µ–≤–Ω–µ –ö—É–¥—Ä–æ–≤–æ: {:.2f}'.format(locality_mean('–¥–µ—Ä–µ–≤–Ω—è –ö—É–¥—Ä–æ–≤–æ'))) 
print('–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞(—Ç—ã—Å) –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –≤ –í—ã–±–æ—Ä–≥–µ: {:.2f}'.format(locality_mean('–í—ã–±–æ—Ä–≥'))) 


# –ê —Ç–µ–ø–µ—Ä—å –Ω–∞–π–¥–µ–º —Å—Ä–µ–¥–∏ –Ω–∏—Ö –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã —Å —Å–∞–º–æ–π –≤—ã—Å–æ–∫–æ–π –∏ –Ω–∏–∑–∫–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –∂–∏–ª—å—è:

# In[41]:


df_top10_locality = pd.DataFrame({'name': ['–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', 
                                           '–ø–æ—Å—ë–ª–æ–∫ –ú—É—Ä–∏–Ω–æ', 
                                           '–ø–æ—Å—ë–ª–æ–∫ –®—É—à–∞—Ä—ã', 
                                           '–í—Å–µ–≤–æ–ª–æ–∂—Å–∫', 
                                           '–ü—É—à–∫–∏–Ω', 
                                           '–ö–æ–ª–ø–∏–Ω–æ', 
                                           '–ø–æ—Å—ë–ª–æ–∫ –ü–∞—Ä–≥–æ–ª–æ–≤–æ', 
                                           '–ì–∞—Ç—á–∏–Ω–∞', 
                                           '–¥–µ—Ä–µ–≤–Ω—è –ö—É–¥—Ä–æ–≤–æ', 
                                           '–í—ã–±–æ—Ä–≥'], 
                                  'mean_price_per_meter': [locality_mean('–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥'),
                                                           locality_mean('–ø–æ—Å—ë–ª–æ–∫ –ú—É—Ä–∏–Ω–æ'),
                                                           locality_mean('–ø–æ—Å—ë–ª–æ–∫ –®—É—à–∞—Ä—ã'),
                                                           locality_mean('–í—Å–µ–≤–æ–ª–æ–∂—Å–∫'),
                                                           locality_mean('–ü—É—à–∫–∏–Ω'),
                                                           locality_mean('–ö–æ–ª–ø–∏–Ω–æ'),
                                                           locality_mean('–ø–æ—Å—ë–ª–æ–∫ –ü–∞—Ä–≥–æ–ª–æ–≤–æ'),
                                                           locality_mean('–ì–∞—Ç—á–∏–Ω–∞'),
                                                           locality_mean('–¥–µ—Ä–µ–≤–Ω—è –ö—É–¥—Ä–æ–≤–æ'),
                                                           locality_mean('–í—ã–±–æ—Ä–≥')]})

df_top10_locality = df_top10_locality.sort_values(by='mean_price_per_meter')
df_top10_locality1 = df_top10_locality.set_index('name')
df_top10_locality1.plot(y='mean_price_per_meter', kind='bar', figsize=(10,7))
plt.title('prices in the cities')
plt.show()


# –ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –¥–µ—à–µ–≤–ª–µ –≤—Å–µ–≥–æ –∂–∏–ª—å–µ –≤ –í—ã–±–æ—Ä–≥–µ, –í—Å–µ–≤–æ–ª–æ–∂—Å–∫–µ –∏ –ì–∞—Ç—á–∏–Ω–µ, –∞ –≤–æ—Ç –¥–æ—Ä–æ–∂–µ –≤—Å–µ–≥–æ –≤ –ö—É–¥—Ä–æ–≤–æ, –ü—É—à–∫–∏–Ω–µ –∏ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ.

# ### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–Ω—Ç—Ä–∞ –ü–∏—Ç–µ—Ä–∞

# –í—ã–¥–µ–ª–∏–º –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –ü–∏—Ç–µ—Ä–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ–º –∏—Ö –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É–¥–∞–ª–µ–Ω–Ω–æ—Å—Ç–∏ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞:

# In[42]:


df_clean['cityCenters_nearest'] = df_clean['cityCenters_nearest'].round()
df_clean_SaintP = df_clean.query('locality_name == "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"')
SaintP_center_price = df_clean_SaintP.pivot_table(index = 'cityCenters_nearest', 
                                                  values = 'last_price')
SaintP_center_price.plot(y='last_price', 
                         style='-', 
                         grid=True, 
                         figsize=(10,7)) 
plt.title('prices is Saint-Petersburg')
plt.show()


# –†–µ–∑–∫–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –∏–¥–µ—Ç –¥–æ –æ—Ç–º–µ—Ç–∫–∏ 3–∫–º, –¥–∞–ª—å—à–µ –∏–¥–µ—Ç –Ω–µ–±–æ–ª—å—à–æ–π —Ä–æ—Å—Ç, –∞ –ø–æ—Å–ª–µ 5 –∫–º –ø–ª–∞–≤–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ –Ω–∞ 8‚Äì10 –∫–º –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∑–æ–Ω–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–∞–ª—å—à–µ –∏–¥—ë—Ç –≤ —Ç–æ–º —á–∏—Å–ª–µ —Å–ø–∞–¥ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç–∞–≥–Ω–∞—Ü–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏.

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ 8‚Äì10 –∫–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–∞–ª—å—à–µ –∏–¥—ë—Ç –≤ —Ç–æ–º —á–∏—Å–ª–µ —Å–ø–∞–¥ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç–∞–≥–Ω–∞—Ü–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏.
#     
# </div>

# ### –¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ü–µ–Ω—Ç—Ä–µ –ü–∏—Ç–µ—Ä–∞

# –î–ª—è –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –∑–æ–Ω—ã 9 –∫–º –∏–∑—É—á–∏–º —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: –ø–ª–æ—â–∞–¥—å, —Ü–µ–Ω—É, —á–∏—Å–ª–æ –∫–æ–º–Ω–∞—Ç, –≤—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤. –ù–æ —Å–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–µ–º –Ω–æ–≤—ã–π —Å—Ä–µ–∑, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å —É—Å–ª–æ–≤–∏—é —Ç–æ–≥–æ, —á—Ç–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ.

# In[43]:


SaintP_center = df_clean_SaintP.query('cityCenters_nearest < 9')


# –ü–æ—Å—Ç—Ä–æ–∏–º –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –≥—Ä–∞—Ñ–∏–∫–∏ —Å–Ω–∞—á–∞–ª–∞ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∑–æ–Ω—ã, –ø–æ—Ç–æ–º –¥–ª—è –≤—Å–µ–≥–æ –≥–æ—Ä–æ–¥–∞ –∏ —Å—Ä–∞–≤–Ω–∏–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
# 
# –ì—Ä–∞—Ñ–∏–∫–∏ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∑–æ–Ω—ã –∏ –¥–ª—è –≤—Å–µ–≥–æ –≥–æ—Ä–æ–¥–∞:

# In[46]:


columns3 = ['total_area', 'last_price', 'rooms', 'ceiling_height']

for i in columns3:
    print('parametr: ', i)
    SaintP_center[i].hist(bins=100)
    plt.title('real estate in the center')
    plt.show()
    df_clean_SaintP[i].hist(bins=100)
    plt.title('real estate all over the city')
    plt.show()


# –í—ã–≤–æ–¥—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
# 
# –û–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥, —á—Ç–æ –≤ —Ü–µ–Ω—Ç—Ä–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–æ–¥–∞—é—Ç—Å—è –∫–≤–∞—Ä—Ç–∏—Ä—ã —Å –±–æ–ª—å—à–µ–π –ø–ª–æ—â–∞–¥—å—é, –Ω–µ–∂–µ–ª–µ –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ä–∞–π–æ–Ω–∞—Ö –≥–æ—Ä–æ–¥–∞. 
# 
# –°–∏–ª—å–Ω–æ –±—Ä–æ—Å–∞–µ—Ç—Å—è –≤ –≥–ª–∞–∑–∞ —Ç–æ—Ç —Ñ–∞–∫—Ç, —á—Ç–æ –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ —Ü–µ–Ω—Ç—Ä–µ –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –¥–æ—Ä–æ–∂–µ, —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ä–∞–π–æ–Ω–∞—Ö –≥–æ—Ä–æ–¥–∞ –∏–¥–µ—Ç –≥–ª–∞–¥–∫–∏–π, –Ω–æ —Ç–µ–º –Ω–µ–º–µ–Ω–µ–µ —Ä–µ–∑–∫–∏–π —Å–ø—É—Å–∫, –∞ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º —Ä–∞–π–æ–Ω–µ –≤—Å–µ –∂–µ –º–Ω–æ–≥–æ –¥–æ—Ä–æ–≥–∏—Ö –∫–≤–∞—Ä—Ç–∏—Ä, –∏ —Ö–æ—Ç—å —Å–ø—É—Å–∫ –∏ –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è, –Ω–æ –æ–Ω —Å–æ–≤—Å–µ–º –Ω–µ —Ä–µ–∑–∫–∏–π, –∞ –±–ª–∏–∂–µ –∫ –ø–æ–ª–æ–≥–æ–º—É.
# 
# –í —Ü–µ–Ω—Ç—Ä–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–æ–¥–∞—é—Ç –¥–≤—É—Ö-—Ç—Ä–µ—Ö–∫–æ–º–Ω–∞—Ç–Ω—ã–µ –∫–≤–∞—Ä—Ç—Ä–∏—Ä—ã, –∞ –≤–æ—Ç –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ä–∞–π–æ–Ω–∞—Ö –Ω–∞–æ–±–æ—Ä–æ—Ç –±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∞ –æ–¥–Ω—É—à–µ–∫.
# 
# –ê –≤–æ—Ç –≤—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤ –≤ —Ü–µ–ª–æ–º —Å—Ö–æ–∂–∞, –æ–¥–Ω–∞–∫–æ –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–∞–∑–¥–æ —á–∞—â–µ –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—ã —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–º–∏ –ø–æ—Ç–æ–ª–∫–∞–º–∏, —ç—Ç–æ —Å–≤—è–∑–∞–Ω–Ω–æ —Å —Ç–µ–º, —á—Ç–æ –≤ —Ü–µ–Ω—Ç—Ä–µ –º–Ω–æ–≥–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –∑–¥–∞–Ω–∏–π, –≥–¥–µ –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–µ –ø–æ—Ç–æ–ª–∫–∏, –∞ –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ä–∞–π–æ–Ω–∞—Ö —á–∞—â–µ –≤—Å–µ–≥–æ –ø—Ä–æ–¥–∞—é—Ç—Å—è –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞—Ö, –≥–¥–µ –ø—ã—Ç–∞–±—Ç—Å—è —É–ª–æ–∂–∏—Ç—å—Å—è –≤ –ì–û–°–¢—ã –∏ –Ω–µ –∑–∞–º–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –Ω–∞—Å—á—ë—Ç –∫–æ–º—Ñ–æ—Ä—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏.
# 
# –ü—Ä–æ–≤–µ—Ä–∏–º –∫–∞–∫ –≤–ª–∏—è—é—Ç —á–∏—Å–ª–æ –∫–æ–º–Ω–∞—Ç, —ç—Ç–∞–∂, —É–¥–∞–ª—ë–Ω–Ω–æ—Å—Ç—å –æ—Ç —Ü–µ–Ω—Ç—Ä–∞, –¥–∞—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –Ω–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ü–µ–Ω—Ç—Ä–µ.

# <div class="alert alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# <s>–î–∞–≤–∞–π –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ —á–µ—Ä–µ–∑ —Ü–∏–∫–ª `for`. 
#     
# –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ? 
#     
# - —ç–∫–æ–Ω–æ–º–∏–º —Å–≤–æ—ë –≤—Ä–µ–º—è
# - –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º –∫–æ–¥
# - –¥–µ–ª–∞–µ–º —Ä–∞–±–æ—Ç—É –ø—Ä–µ–∑–µ–Ω—Ç–∞–±–µ–ª—å–Ω–µ–µ
#     
# –í—ã–±–µ—Ä–∏ –ª—é–±–æ–π —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥–∞ –≥–¥–µ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–µ–µ –≤—Å–µ–≥–æ.
# 
# </div>

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ (2):</b>
# 
# –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ üëç
#     
# –¢–µ–ø–µ—Ä—å –≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç –º—ã —Å–º–æ–∂–µ–º –ø—Ä–∏–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.
#     
# </div>

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞—à–∏—Ö –≤—ã–±–æ—Ä–æ–∫ üëç 
#     
# </div>

# In[249]:


stat_center = SaintP_center.pivot_table(
    index = SaintP_center.index, values=['last_price', 'first_day_exposition', 'floor', 'rooms', 'cityCenters_nearest']
)
print(stat_center.corr())
pd.plotting.scatter_matrix(stat_center, figsize=(9, 9))


# –í —Ü–µ–ª–æ–º –≤–ª–∏—è–Ω–∏–µ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–µ –∂–µ, –∫–∞–∫ –∏ –ø–æ –æ–±–ª–∞—Å—Ç–∏. 

# ## –û–±—â–∏–π –≤—ã–≤–æ–¥

# –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ–º–æ–≥ –Ω–∞–π—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ. –¢–∞–∫–∂–µ –±—ã–ª–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã —Ä–∞–π–æ–Ω—ã, –≥–¥–µ —á–µ—Ç–∫–æ —É–∫–∞–∑—ã–≤–∞–ª–æ—Å—å —Å–∫–æ–ª—å–∫–æ –≤ —Å—Ä–µ–¥–Ω–µ–º —Å—Ç–æ–∏—Ç –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –º–µ—Ç—Ä, –≥–¥–µ —Ü–µ–Ω—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã, –≥–¥–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã. –î–ª—è –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞ –±—ã–ª –ø—Ä–æ–≤–µ–¥–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –∫–≤–∞—Ä—Ç–∏—Ä –≤ —Ü–Ω—Ç—Ä–µ –∏ –∏—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ—Ç–ª–∏—á–∏–π –æ—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Ç–∏ –≤ –¥—Ä—É–≥–∏—Ö —Ä–∞–π–æ–Ω–∞—Ö. 

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –í—ã–≤–æ–¥—ã –ø–æ–Ω—è—Ç–Ω—ã –∏ –ª–æ–≥–∏—á–Ω—ã, –∞ —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω—ã –≤—ã—è–≤–ª–µ–Ω–Ω—ã–º–∏ —Ñ–∞–∫—Ç–∞–º–∏.
#     
# –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∏ —ç—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–¥–æ–≤–∞—Ç—å üòä
#     
# –î–∞–≤–∞–π –ø–æ–ø—Ä–∞–≤–∏–º –º–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –±—É–¥–µ–º –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ.
#     
# –ï—Å–ª–∏ —É —Ç–µ–±—è –≤–¥—Ä—É–≥ –µ—Å—á—Ç—å –∫–∞–∫–∏–µ‚Äì–ª–∏–±–æ –≤–æ–ø—Ä–æ—Å—ã, —Ç–æ —è —Å —Ä–∞–¥–æ—Å—Ç—å—é –æ—Ç–≤–µ—á—É –Ω–∞ –Ω–∏—Ö üòä
#        
# 
# </div>

# <div class="alert alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ (2):</b>
# 
# –ö–ª–∞—Å—Å–Ω–æ, —á—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å –ø–æ–ø—Ä–∞–≤–∏—Ç—å –º–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Å–¥–µ–ª–∞—Ç—å –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –µ—â–µ –ª—É—á—à–µ üëç
#        
# –í —Ü–µ–ª–æ–º —Å–∞–º –ø—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –Ω–∞ —Ö–æ—Ä–æ—à–µ–º —É—Ä–æ–≤–Ω–µ! –ù–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–π —Ä–∞–±–æ—Ç—ã —á—É–≤—Å—Ç–≤—É–µ—Ç—Å—è –≥–ª—É–±–∏–Ω–∞ –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á–∏ –∏ —ç—Ç–æ –±–µ–∑—É—Å–ª–æ–≤–Ω—ã–π –ø–ª—é—Å –¥–ª—è –Ω–∞—Å. –ë—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø–æ–º–æ–≥–∞—Ç—å —Ç–µ–±–µ –≤ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.
#     
#     
# –ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Å —É—Å–ø–µ—à–Ω—ã–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞ üòäüëç
#     
# –ò –∂–µ–ª–∞—é —É—Å–ø–µ—Ö–æ–≤ –≤ –Ω–æ–≤—ã—Ö —Ä–∞–±–æ—Ç–∞—Ö üòä
#     
# **[–æ–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π]** –Ø—á–µ–π–∫–∏ **markdown** –≤ —Ç–æ–º —á–∏—Å–ª–µ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –û—Å—Ç–∞–≤–∏–ª –Ω–∏–∂–µ —Å—Å—ã–ª–∫—É, —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏.
# 
# https://sqlbak.com/blog/jupyter-notebook-markdown-cheatsheet
#     
# </div>

# ## –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
# 
# –ü–æ—Å—Ç–∞–≤—å—Ç–µ 'x' –≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–∞—Ö. –î–∞–ª–µ–µ –Ω–∞–∂–º–∏—Ç–µ Shift+Enter.

# - [x]  –æ—Ç–∫—Ä—ã—Ç —Ñ–∞–π–ª
# - [x]  —Ñ–∞–π–ª—ã –∏–∑—É—á–µ–Ω—ã (–≤—ã–≤–µ–¥–µ–Ω—ã –ø–µ—Ä–≤—ã–µ —Å—Ç—Ä–æ–∫–∏, –º–µ—Ç–æ–¥ info())
# - [x]  –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
# - [x]  –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
# - [x]  –µ—Å—Ç—å –ø–æ—è—Å–Ω–µ–Ω–∏–µ, –∫–∞–∫–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã
# - [x]  –∏–∑–º–µ–Ω–µ–Ω—ã —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
# - [x]  –µ—Å—Ç—å –ø–æ—è—Å–Ω–µ–Ω–∏–µ, –≤ –∫–∞–∫–∏—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö –∏–∑–º–µ–Ω–µ–Ω—ã —Ç–∏–ø—ã –∏ –ø–æ—á–µ–º—É
# - [x]  –ø–æ—Å—á–∏—Ç–∞–Ω–æ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ç–∞–±–ª–∏—Ü—É: —Ü–µ–Ω–∞ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞
# - [x]  –ø–æ—Å—á–∏—Ç–∞–Ω–æ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ç–∞–±–ª–∏—Ü—É: –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, –º–µ—Å—è—Ü –∏ –≥–æ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
# - [x]  –ø–æ—Å—á–∏—Ç–∞–Ω–æ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ç–∞–±–ª–∏—Ü—É: —ç—Ç–∞–∂ –∫–≤–∞—Ä—Ç–∏—Ä—ã; –≤–∞—Ä–∏–∞–Ω—Ç—ã ‚Äî –ø–µ—Ä–≤—ã–π, –ø–æ—Å–ª–µ–¥–Ω–∏–π, –¥—Ä—É–≥–æ–π
# - [x]  –ø–æ—Å—á–∏—Ç–∞–Ω–æ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ç–∞–±–ª–∏—Ü—É: —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∂–∏–ª–æ–π –∏ –æ–±—â–µ–π –ø–ª–æ—â–∞–¥–∏, –∞ —Ç–∞–∫–∂–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ø–ª–æ—â–∞–¥–∏ –∫—É—Ö–Ω–∏ –∫ –æ–±—â–µ–π
# - [x]  –∏–∑—É—á–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: –ø–ª–æ—â–∞–¥—å, —Ü–µ–Ω–∞, —á–∏—Å–ª–æ –∫–æ–º–Ω–∞—Ç, –≤—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤
# - [x]  –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
# - [x]  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–µ: "–ò–∑—É—á–∏—Ç–µ –≤—Ä–µ–º—è –ø—Ä–æ–¥–∞–∂–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—É. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ä–µ–¥–Ω–µ–µ –∏ –º–µ–¥–∏–∞–Ω—É. –û–ø–∏—à–∏—Ç–µ, —Å–∫–æ–ª—å–∫–æ –æ–±—ã—á–Ω–æ –∑–∞–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–¥–∞–∂–∞. –ö–æ–≥–¥–∞ –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –ø—Ä–æ–¥–∞–∂–∏ –ø—Ä–æ—à–ª–∏ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ, –∞ –∫–æ–≥–¥–∞ –Ω–µ–æ–±—ã—á–Ω–æ –¥–æ–ª–≥–æ?"
# - [x]  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–µ: "–£–±–µ—Ä–∏—Ç–µ —Ä–µ–¥–∫–∏–µ –∏ –≤—ã–±–∏–≤–∞—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è. –û–ø–∏—à–∏—Ç–µ, –∫–∞–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏."
# - [x]  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–µ: "–ö–∞–∫–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤–ª–∏—è—é—Ç –Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—ã? –ò–∑—É—á–∏—Ç–µ, –∑–∞–≤–∏—Å–∏—Ç –ª–∏ —Ü–µ–Ω–∞ –æ—Ç –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞, —á–∏—Å–ª–∞ –∫–æ–º–Ω–∞—Ç, —ç—Ç–∞–∂–∞ (–ø–µ—Ä–≤–æ–≥–æ –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ), —É–¥–∞–ª—ë–Ω–Ω–æ—Å—Ç–∏ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞. –¢–∞–∫–∂–µ –∏–∑—É—á–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –¥–∞—Ç—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è: –¥–Ω—è –Ω–µ–¥–µ–ª–∏, –º–µ—Å—è—Ü–∞ –∏ –≥–æ–¥–∞. "–í—ã–±–µ—Ä–∏—Ç–µ 10 –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º —á–∏—Å–ª–æ–º –æ–±—ä—è–≤–ª–µ–Ω–∏–π. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ä–µ–¥–Ω—é—é —Ü–µ–Ω—É –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –≤ —ç—Ç–∏—Ö –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–∞—Ö. –í—ã–¥–µ–ª–∏—Ç–µ –Ω–∞—Å–µ–ª—ë–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã —Å —Å–∞–º–æ–π –≤—ã—Å–æ–∫–æ–π –∏ –Ω–∏–∑–∫–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –∂–∏–ª—å—è. –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø–æ –∏–º–µ–Ω–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ '*locality_name'*. "
# - [x]  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–µ: "–ò–∑—É—á–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∫–≤–∞—Ä—Ç–∏—Ä: –¥–ª—è –∫–∞–∂–¥–æ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã –µ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ –¥–æ —Ü–µ–Ω—Ç—Ä–∞. –í—ã–¥–µ–ª–∏—Ç–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ (*'locality_name'*). –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –≤—ã—è—Å–Ω–∏—Ç—å, –∫–∞–∫–∞—è –æ–±–ª–∞—Å—Ç—å –≤—Ö–æ–¥–∏—Ç –≤ —Ü–µ–Ω—Ç—Ä. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç–æ–ª–±–µ—Ü —Å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º –¥–æ —Ü–µ–Ω—Ç—Ä–∞ –≤ –∫–∏–ª–æ–º–µ—Ç—Ä–∞—Ö: –æ–∫—Ä—É–≥–ª–∏—Ç–µ –¥–æ —Ü–µ–ª—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ä–µ–¥–Ω—é—é —Ü–µ–Ω—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∏–ª–æ–º–µ—Ç—Ä–∞. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫: –æ–Ω –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫ —Ü–µ–Ω–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É–¥–∞–ª—ë–Ω–Ω–æ—Å—Ç–∏ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –≥—Ä–∞–Ω–∏—Ü—É, –≥–¥–µ –≥—Ä–∞—Ñ–∏–∫ —Å–∏–ª—å–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è ‚Äî —ç—Ç–æ –∏ –±—É–¥–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∑–æ–Ω–∞. "
# - [x]  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–µ: "–í—ã–¥–µ–ª–∏—Ç–µ —Å–µ–≥–º–µ–Ω—Ç –∫–≤–∞—Ä—Ç–∏—Ä –≤ —Ü–µ–Ω—Ç—Ä–µ. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —ç—Ç—É —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –∏ –∏–∑—É—á–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: –ø–ª–æ—â–∞–¥—å, —Ü–µ–Ω–∞, —á–∏—Å–ª–æ –∫–æ–º–Ω–∞—Ç, –≤—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤. –¢–∞–∫–∂–µ –≤—ã–¥–µ–ª–∏—Ç–µ —Ñ–∞–∫—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—ã (—á–∏—Å–ª–æ –∫–æ–º–Ω–∞—Ç, —ç—Ç–∞–∂, —É–¥–∞–ª—ë–Ω–Ω–æ—Å—Ç—å –æ—Ç —Ü–µ–Ω—Ç—Ä–∞, –¥–∞—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è). –°–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã. –û—Ç–ª–∏—á–∞—é—Ç—Å—è –ª–∏ –æ–Ω–∏ –æ—Ç –æ–±—â–∏—Ö –≤—ã–≤–æ–¥–æ–≤ –ø–æ –≤—Å–µ–º—É –≥–æ—Ä–æ–¥—É?"
# - [x]  –≤ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –µ—Å—Ç—å –≤—ã–≤–æ–¥—ã
# - [x]  –µ—Å—Ç—å –æ–±—â–∏–π –≤—ã–≤–æ–¥
